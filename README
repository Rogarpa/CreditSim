## Back stack
![Python](https://img.shields.io/badge/python-3670A0?style=for-the-badge&logo=python&logoColor=ffdd54)
![Python](https://img.shields.io/badge/fastapi-3670A0?style=for-the-badge&logo=python&logoColor=ffdd54)

# Backend

## Universal Skills Involved

- **Backend**:
  - **Dependency injection**
  - **Middleware control**
  - **CORS managing**

       
## Overview

REST API for getting simulations of loan amortization calculus.


## Universal Skills Involved


## Features
  The rest api provides the following endpoints:
  ### Route /simulate
- **GET /**: Return a list of previous amortization simulations 

    - Returns: a list element (amortization_periods) of amortization tables simulations
  
    ```json
      
    amortization_periods:[
      {
        "amortization_table": "json",
        "id": 1,
        "annual_rate": 12.0,
        "months_term": 12,
        "amount": 12.0
      }
      {...}
    ]
    ```
     Where

    ```
    amortization_table: JSON as response of simulation
    id: Id of the simulation
    annual_rate: Annual interest rate
    months_term: Months deadline for payment
    amount: Total loan amount
    ```

    
- **POST /simulate**: Gets the periods of amortization

  - Parameters
    - monto: total loan amount
    - tasa_anual: annual rate of interest
    - plazo_meses: number of months for loan deadline

    ```json
      
      {"amortization_periods": [
          {
              "actual_period": 0,
              "period_payment_amount": 2183.5457140057583,
              "interest_monthly_rate": 0.03,
              "period_interest_amount": 0,
              "capital_period_amortization_amount": 0,
              "remain_balance_amount": 10000.0
          }
        ],
        [...]
      }
    ```
  Where

    ```

    actual_period: Period of payment of the row
    period_payment_amount: Amount to pay on actual period
    interest_monthly_rate: Monthly rate of interest (%)
    period_interest_amount: Monthly amount of interest
    capital_period_amortization_amount: Current period amortization period amount
    remain_balance_amount: Left balance amount

    ```
    
    
## Technologies Used ðŸ¤–

- **Backend**:
    - FastAPI: 
      - **Modularization**:
        - Controllers
        - Dtos
        - Connectors
          - ORM
        - Services
        - Models
        - Middlewares


## Installation âš™ï¸âš™ï¸

To start the application, you need to have installed:

- [Docker](https://www.docker.com/)
- [Docker compose] (https://docs.docker.com/compose/)

To install all the dependencies requred locally, run at package.json height:
```bash
#Docker Prerequisites
sudo apt-get update
sudo apt-get install ca-certificates curl gnupg

#Add Docker's GPG key
sudo install -m 0755 -d /etc/apt/keyrings
curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmor -o /etc/apt/keyrings/docker.gpg
sudo chmod a+r /etc/apt/keyrings/docker.gpg

#Add the Docker repository to Apt sources
echo "deb [arch=$(dpkg --print-architecture) signed-by=/etc/apt/keyrings/docker.gpg] https://download.docker.com/linux/ubuntu $(lsb_release -cs) stable" | sudo tee /etc/apt/sources.list.d/docker.list > /dev/null
sudo apt-get update

#Install dependencies
sudo apt-get install docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin


# Install docker compose
sudo apt-get update
sudo apt-get install docker-compose-plugin

```

## Startup ðŸš€

To start the app 
The application is developed using [Docker-compose](https://docs.docker.com/compose/), so you can start the application with the following command:

```bash
docker compose up credit_sim_api 
```

## Usage
  Send requests on any api tester or consumpt it with an application on:
  http://localhost:8000/

[back]: https://github.com/Rogarpa/DevTools/tree/back?tab=readme-ov-file
